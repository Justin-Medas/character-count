<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>helpers/buttonToggle.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ButtonToggle.html">ButtonToggle</a></li></ul><h3>Global</h3><ul><li><a href="global.html#cleanLabel">cleanLabel</a></li><li><a href="global.html#Header">Header</a></li><li><a href="global.html#Menu">Menu</a></li><li><a href="global.html#setFocus">setFocus</a></li><li><a href="global.html#tabindexAccessibility">tabindexAccessibility</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">helpers/buttonToggle.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file
 * ButtonToggle class.
 */
import React from 'react';
import { setFocus } from './accessibility';

/**
 * The ButtonToggle class provides an easy way to add a toggleable button. It accepts
 * parameters to facilitate an accessible experience through aria labeling and cursor refocus
 *
 */
class ButtonToggle extends React.Component {
  /**
   * Set the object's initial state.
   *
   * @constructor
   * @param {Object} options
   *   ButtonToggle options. See object definition in the constructor below.
   */  
  constructor(props) {
    super(props);
    /**
     * Create the state from supplied options and defaults. Options can be
     * specificed on object creation by passing an object, or inline as data
     * attributes on the button DOM element. Data attribute options are
     * kebab-cased versions of the options below, prefixed with data-button.
     *
     * @property {String} buttonActiveClass
     *  Class to add to @var buttonActiveElement
     * @property {String} buttonActiveElement
     *  The closest parent element to add the @var buttonActiveClass.
     * @property {string} buttonLabel
     *  The aria-label value to add to the button
     * @property {string} buttonControls
     *  The aria-controls value to add to the button. This value is used reset the user focus
     *  on the now active element
     * @property {string} buttonToggleType - accordion, menu, toggle
     *  The toggle type determines what additional accessibility values should be added. 
     *  IE aria-expaned, aria-pressed, and aria-haspopup 
     *  @todo Create conditional functionality for aria-haspopup, aria-pressed, &amp; aria-expanded
     */    
    this.state = {
      // Track the current state, clicked unclicked.
      isToggled: false,
      // Track if the button has been clicked once.
      isClicked: false,
      // Reset focus if target is found
      setFocus: true,
      userInitiated: false,      
    };
    this.handleClick = this.handleClick.bind(this);
    this.buttonParams = props 
  }
  
  handleClick(button) {
    this.setState({      
      isToggled: this.state.isToggled === false ? true: false,
      isClicked: true,
    }, () => {
      if(this.state.isToggled === true) {
        button.target.closest(this.buttonParams.buttonActiveElement).classList.add(this.buttonParams.buttonActiveClass);
        setFocus(document.getElementById(this.buttonParams.buttonControls));
      } else {
        button.target.closest(this.buttonParams.buttonActiveElement).classList.remove(this.buttonParams.buttonActiveClass);
      }
    })
  }

  render() {
    return (
      &lt;button
        type="button"
        data-is-toggled={this.state.isToggled}
        className={this.buttonParams.buttonClass}
        aria-live="polite"
        aria-label={this.buttonParams.buttonLabel}
        id={this.buttonParams.buttonId}
        aria-controls={this.buttonParams.buttonControls}
        onClick={(e) => {this.handleClick(e)}}
        aria-haspopup={this.buttonParams.buttonToggleType === 'menu' ? true : '' }
        aria-expanded={this.state.isToggled}
      >
      &lt;/button>
    );
  }
}

export default ButtonToggle;</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.10</a> on Tue Jul 05 2022 08:05:37 GMT-0400 (Eastern Daylight Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>



</body>
</html>
